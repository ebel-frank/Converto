# File name: converto.py
# .kivy 1.10.1
#: import FadeTransition kivy.uix.screenmanager.FadeTransition

ScreenManagement:
	transition: FadeTransition()
	CalcScreen:
	ConScreen:
	AboutScreen:

<Button>:
	font_size: 20

<Label>:
	font_size: 20

<CalcScreen>:
	name: "calc"
	id: calculator
	display: entry
	rows: 3
	AnchorLayout:
		anchor_x: 'right'
		anchor_y: 'top'
		size_hint_y: None
		height: 40
		BoxLayout:
			size_hint_y: None
			height: 40
			spacing: 10
			canvas:
				Color:
					rgba: 1, 1, 1, 1
				Rectangle:
					pos: self.pos
					size: self.size
			Button:
				background_normal: 'calc.png'
				background_down: 'calc_dn.jpg'
				size_hint_x: None
				width: 40
			Button:
				background_normal: 'convert.png'
				background_down: 'convert_dn.jpg'
				on_release: app.root.current = "con"
				size_hint_x: None
				width: 40
			Button:
				background_normal: 'exit.jpg'
				background_down: 'exit_dn.jpg'
				on_release: calculator.exit()
				size_hint_x: None
				width: 40
		Button:
			text: "About"
			background_color: 0,0,0,1
			bold: True
			on_release: app.root.current = "about"
			size_hint_x: None
			width: 90
	BoxLayout:
		size_hint: .10, .3
		TextInput:
			id: entry
			font_size: 32
			multiline: False
			allow_copy: False
			cursor_blink: False

	GridLayout:
		rows: 5
		BoxLayout:
			padding: 5
			spacing: 5
			Button:
				text: "sin("
				on_press: entry.text += self.text
				size_hint: .48, 1
			Button:
				text: "cos("
				on_press: entry.text += self.text
				size_hint: .48, 1
			Button:
				text: "tan("
				on_press: entry.text += self.text
				size_hint: .48, 1
			Label:
				text: "[size=32px][color=#3e6643]The[/color][sub]Grand[/sub][i][b]Dev[/b][/i][/size]"
				markup: True
		BoxLayout:
			Button:
				text: "7"
				on_press: entry.text += self.text
			Button:
				text: "8"
				on_press: entry.text += self.text
			Button:
				text: "9"
				on_press: entry.text += self.text
			Button:
				text: "DEL"
				background_color: 1,0,0,1
				on_press: calculator.delete(entry.text)
			Button:
				text: "AC"
				background_color: 1,0,0,1	
				on_press: entry.text = ""
		BoxLayout:
			Button:
				text: "4"
				on_press: entry.text += self.text
			Button:
				text: "5"
				on_press: entry.text += self.text
			Button:
				text: "6"
				on_press: entry.text += self.text
			Button:
				text: "x"
				on_press: entry.text += "*"
			Button:
				text: "/"
				on_press: entry.text += self.text
		BoxLayout:
			Button:
				text: "1"
				on_press: entry.text += self.text
			Button:
				text: "2"
				on_press: entry.text += self.text
			Button:
				text: "3"
				on_press: entry.text += self.text
			Button:
				text: "+"
				on_press: entry.text += self.text
			Button:
				text: "-"
				on_press: entry.text += self.text
		BoxLayout:
			Button:
				text: "0"
				on_press: entry.text += self.text
			Button:
				text: "."
				on_press: entry.text += self.text
			Button:
				text: "("
				on_press: entry.text += self.text
			Button:
				text: ")"
				on_press: entry.text += self.text
			Button:
				text: "="
				on_press: calculator.calc(entry.text)

<ConScreen>:
	name: "con"
	id: converter
	display: entry
	display2: result
	disLeft: lEntry
	disRight: rEntry
	rows: 5
	AnchorLayout:
		anchor_x: 'right'
		anchor_y: 'top'
		size_hint_y: None
		height: 40
		BoxLayout:
			size_hint_y: None
			height: 40
			spacing: 10

			canvas:
				Rectangle:
					pos: self.pos
					size: self.size
			Button:
				background_normal: 'calc.png'
				background_down: 'calc_dn.jpg'
				on_release: app.root.current = "calc"
				size_hint_x: None
				width: 40
			Button:
				background_normal: 'convert.png'
				background_down: 'convert_dn.jpg'
				size_hint_x: None
				width: 40
			Button:
				background_normal: 'exit.jpg'
				background_down: 'exit_dn.jpg'
				on_release: converter.exit()
				size_hint_x: None
				width: 40
		Button:
			text: "About"
			background_color: 0,0,0,1
			bold: True
			on_release: app.root.current = "about"
			size_hint_x: None
			width: 90
	BoxLayout:
		spacing: 5
		padding: 5
		size_hint_y: None
		height: 50
		Button:
			id: lEntry
			font_size: 22
			text: "Meter"
			on_parent: dropdown2.dismiss()
			on_release: dropdown2.open(self)
			size_hint_x: .3
		DropDown:
			id: dropdown2
			on_select: lEntry.text = '{}'.format(args[1])
			Button:
				text: 'Meter'
				size_hint_y: None
				height: '48dp'
				on_release: dropdown2.select('Meter')
			Button:
				text: "Kilometer"
				size_hint_y: None
				height: '48dp'
				on_release: dropdown2.select('Kilometer')
			Button:
				text: 'Centimeter'
				size_hint_y: None
				height: '48dp'
				on_release: dropdown2.select('Centimeter')
			Button:
				text: 'Millimeter'
				size_hint_y: None
				height: '48dp'
				on_release: dropdown2.select('Millimeter')
			Button:
				text: 'Feet'
				size_hint_y: None
				height: '48dp'
				on_release: dropdown2.select('Feet')
			Button:
				text: 'Decimeter'
				size_hint_y: None
				height: '48dp'
				on_release: dropdown2.select('Decimeter')

		Button:
			background_normal: 'convert.png'
			background_down: 'convert_dn.jpg'
			size_hint_x: None
			width: 40
		Button:
			id: rEntry
			font_size: 22
			text: 'Kilometer'
			on_parent: dropdown.dismiss()
			on_release: dropdown.open(self)
			size_hint_x: .3
		DropDown:
			id: dropdown
			on_select: rEntry.text = '{}'.format(args[1])
			Button:
				text: 'Meter'
				size_hint_y: None
				height: '48dp'
				on_release: dropdown.select('Meter')
			Button:
				text: "Kilometer"
				size_hint_y: None
				height: '48dp'
				on_release: dropdown.select('Kilometer')
			Button:
				text: 'Centimeter'
				size_hint_y: None
				height: '48dp'
				on_release: dropdown.select('Centimeter')
			Button:
				text: 'Millimeter'
				size_hint_y: None
				height: '48dp'
				on_release: dropdown.select('Millimeter')
			Button:
				text: 'Feet'
				size_hint_y: None
				height: '48dp'
				on_release: dropdown.select('Feet')
			Button:
				text: 'Decimeter'
				size_hint_y: None
				height: '48dp'
				on_release: dropdown.select('Decimeter')
		
	BoxLayout:
		padding: 3
		size_hint_y: None
		height: 70
		TextInput:
			id: entry
			font_size: 32
			multiline: False
			cursor_blink: False
		Label:
			text: lEntry.text
			size_hint_x: .3
	BoxLayout:
		padding: 3
		size_hint_y: None
		height: 70
		Label:
			id: result
		Label:
			text: rEntry.text
			size_hint_x: .3
	GridLayout:
		rows: 5
		Label:
			text: "[size=32px][color=#3e6643]The[/color][sub]Grand[/sub][i][b]Dev[/b][/i][/size]"
			markup: True
		BoxLayout:
			Button:
				text: "7"
				on_press: entry.text += self.text
			Button:
				text: "8"
				on_press: entry.text += self.text
			Button:
				text: "9"
				on_press: entry.text += self.text
			Button:
				text: "DEL"
				background_color: 1,0,0,1
				on_press: converter.delete(entry.text)
			Button:
				text: "AC"
				background_color: 1,0,0,1
				on_press: entry.text = ""
		BoxLayout:
			Button:
				text: "4"
				on_press: entry.text += self.text
			Button:
				text: "5"
				on_press: entry.text += self.text
			Button:
				text: "6"
				on_press: entry.text += self.text
			Button:
				text: "x"
				on_press: entry.text += "*"
			Button:
				text: "/"
				on_press: entry.text += self.text
		BoxLayout:
			Button:
				text: "1"
				on_press: entry.text += self.text
			Button:
				text: "2"
				on_press: entry.text += self.text
			Button:
				text: "3"
				on_press: entry.text += self.text
			Button:
				text: "+"
				on_press: entry.text += self.text
			Button:
				text: "-"
				on_press: entry.text += self.text
		BoxLayout:
			Button:
				text: "0"
				on_press: entry.text += self.text
			Button:
				text: "."
				on_press: entry.text += self.text
			Button:
				text: "("
				on_press: entry.text += self.text
			Button:
				text: ")"
				on_press: entry.text += self.text
			Button:
				text: "="
				on_press: converter.calc(entry.text) 

<AboutScreen>:
	name: "about"
	id: about
	rows: 2
	GridLayout:
		rows: 2
		AnchorLayout:
			anchor_x: 'right'
			anchor_y: 'top'
			size_hint_y: None
			height: 40
			BoxLayout:
				size_hint_y: None
				height: 40
				spacing: 10
				canvas:
					Color:
						rgba: 1, 1, 1, 1
					Rectangle:
						pos: self.pos
						size: self.size
				Button:
					background_normal: 'calc.png'
					background_down: 'calc_dn.jpg'
					on_release: app.root.current = "calc"
					size_hint_x: None
					width: 40
				Button:
					background_normal: 'convert.png'
					background_down: 'convert_dn.jpg'
					on_release: app.root.current = "con"
					size_hint_x: None
					width: 40
				Button:
					background_normal: 'exit.jpg'
					background_down: 'exit_dn.jpg'
					on_release: about.exit()
					size_hint_x: None
					width: 40
			Button:
				text: "About"
				background_color: 0,0,0,1
				bold: True
				size_hint_x: None
				width: 90
		FloatLayout:
			Label:
				canvas.before:
			        Rectangle:
			            pos: self.pos
			            size: self.size
			            source: "calcu.png"
				size_hint: .4, .4
				pos_hint: {'center_x': .5, 'y': .5}
			Label:
				text: "Version 1.0"
				bold: True
				size_hint: .3, .2
				pos_hint: {'center_x': .5,'y': .3}
			Label:
				text: "Created By: Frank Ebeledike"
				size_hint: .3, .2
				pos_hint: {'center_x': .5, 'y': .26}
			Label:
				text: "Email: frankebeledike@gmail.com"
				size_hint: .3, .2
				pos_hint: {'center_x': .5, 'y': .22}